#include<stdio.h>
#include<string.h>
#include<stdlib.h>

void SearchYear();                         //ï¿½ï¿½ï¿½Üºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
void SearchMonth();
void SearchDate();
void Constellation();
void Festival();
void ChineseEra();
void YearOfBirth();
void LunnerYear();
void SolarTerms();
void BeiWangLu();
void XieBeiWangLu();
void DuBeiWangLu();

int main()
{
  int n;
  printf("ÇëÑ¡Ôñ¹¦ÄÜ\n");                         
  printf(" 1  ÊäÈëÄê·Ý£¬²é¿´±¾ÄêÈÕÀú\n");
  printf(" 2  ÊäÈëÔÂ·Ý£¬²é¿´±¾ÔÂÈÕÀú\n");
  printf(" 3  ÊäÈëÈÕÆÚ£¬²é¿´±¾ÌìÈÕÀú\n");
  printf(" 4  ÊäÈëÈÕÆÚ£¬²é¿´Ëù¶ÔÓ¦ÐÇ×ù\n");
  //printf(" 5  ÊäÈëÔÂ·Ý£¬²é¿´±¾ÔÂËùÓÐ½ÚÈÕ\n");
  //printf(" 6  ÖÐ¹ú´«Í³½ÚÈÕ\n");
  //printf(" 7  ÉúÈÕ\n");
  printf(" 5  ²é¿´Å©Àú\n");
  printf(" 6  ¶þÊ®ËÄ½ÚÆø\n");
  printf(" 7 ¶ÁÐ´±¸ÍüÂ¼\n");
  printf("ÊäÈë¹¦ÄÜÇ°µÄÐòºÅÑ¡Ôñ¹¦ÄÜ\n  ");
  printf("ÊäÈë0ÍË³öµ±Ç°¹¦ÄÜ\n\n");
  
  do 
  {
	n=0;
    scanf("%d",&n);
	if (!n) break;
	printf("************************************************\n");	
	if(n==1)  SearchYear();
	else if(n==2) SearchMonth();
	else if(n==3) SearchDate();
	else if(n==4) Constellation();
//	else if(n==5) Festival();
//	else if(n==6) ChineseEra();
	//else if(n==7) YearOfBirth();
	else if(n==5) LunnerYear();
	else if(n==6) SolarTerms();
	else if(n==7) BeiWangLu();
	printf("************************************************\n\n\n");
  } while (n);
  return 0;
}



void SearchYear (void)
{ 
	int cnt=0,i=0,j=0,days,year=0,m,n=1;
	int flag=0,a=0,b=0;

	printf("ÇëÊäÈë1950ÄêÖ®ºóµÄÄê·Ý\n");
	printf("ÊäÈë0ÍË³ö\n");
    printf("\n");
	do
	{
	   cnt=0,i=0,j=0,days=0,year=0,m=0,n=1;
	   flag=0,a=0,b=0;
       scanf("%d",&year);
	   if (year==0) break;
       
	   for(i=1950;i<year;i++)
	   {
	     	if(i%4==0&&i%100!=0||i%400==0) cnt+=1;
	   }
	   days=365*(year-1950)+cnt;
   	   days%=7;
	   if(year%4==0&&year%100!=0||year%400==0) flag=1;
	   printf("The calendar of the year %d\n",year);
	   printf("\n");
	   for(i=1,b=1;i<=12;i++)
	   {
	    	b=1;
		    if(i==1)
			{
		    	printf("Januray %d\n",i);
		    	a=31;
			}
		    else if(i==2){
                printf("February %d\n",i);
			    a=flag==1?29:28;
			}
	    	else if(i==3){
                printf("March %d\n",i);
		        a=31;
			}
            else if(i==4){
                printf("April %d\n",i);
		        a=30;
			}
            else if(i==5){
                printf("May %d\n",i);
		        a=31;
			}
            else if(i==6){
                printf("June %d\n",i);
		        a=30;
			}
            else if(i==7){
                printf("July %d\n",i);
		        a=31;
			}
            else if(i==8){
                printf("August %d\n",i);
		        a=31;
			}
            else if(i==9){
                printf("September %d\n",i);
		        a=30;
			}
            else if(i==10){
                printf("October %d\n",i);
		        a=31;
			}
            else if(i==11){
                printf("November %d\n",i);
		        a=30;
			}
            else {
			     printf("December %d\n",i);
				 a=31;
			}

		    printf("=============================================\n");
	    	printf("   Sun   Mon   Tue   Wed   Thu   Fri   Sat\n");

	        for(m=0;m<7;m++)   
			{
		    	if(m<days) printf("      ");
			    else {
				    printf("   %-3d",b);
				    b++;
				}
			}

		    printf("\n");
	  	    for(j=b;j<=a;j=j+7)
			{
		    	for(n=1;n<=7&&b<=a;n++,b++) printf("   %-3d",b);
	     	    printf("\n");
			}
	        printf("=============================================\n");
	        days=(n-1)%7;
	        printf("\n\n");
	   }
	} while(year>1950);
}



void SearchMonth (void)
{
	int days=0,cnt=0,year,month;
	int i=0,j=0,flag=0,a=0,b=1;
	printf ("ÇëÊäÈë1950ÄêºóµÄÄê·ÝºÍÔÂ·Ý\n");
	printf ("ÊäÈë0 0½áÊø\n");
	printf("\n");
	do
	{
	   days=0,cnt=0;
	   i=0,j=0,flag=0,a=0,b=1;
	   scanf("%d%d",&year,&month);
       if(year==0||month==0) break;
	   if(year%4==0&&year%100!=0||year%400==0) flag=1;

    	switch(month)
		{
	       case 12:days+=30;
	       case 11:days+=31;
	       case 10:days+=30;
	       case 9:days+=31;
           case 8:days+=31;
	       case 7:days+=30;
	       case 6:days+=31;
	       case 5:days+=30;
	       case 4:days+=31;
	       case 3:days=flag==1?days+29:days+28;
	       case 2:days+=31;
	       case 0:days+=0;
		}

	    for(i=1950;i<year;i++)
		{
		    if(i%4==0&&i%100!=0||i%400==0)
			   cnt+=1;
		}

	    days=days+(year-1950)*365+cnt;
	    days%=7;
		 
     	switch(month)
		{
	       case 1:{printf("The calendar of the month January\n");a=31;break;}
           case 2:{printf("The calendar of the month February\n");a=flag==1?29:28;break;}
           case 3:{printf("The calendar of the month March\n");a=31;break;}
           case 4:{printf("The calendar of the month April\n");a=30;break;}
           case 5:{printf("The calendar of the month May\n");a=31;break;}
           case 6:{printf("The calendar of the month June\n");a=30;break;}
           case 7:{printf("The calendar of the month July\n");a=31;break;}
           case 8:{printf("The calendar of the month August\n");a=31;break;}
           case 9:{printf("The calendar of the month September\n");a=30;break;}
           case 10:{printf("The calendar of the month October\n");a=31;break;}
           case 11:{printf("The calendar of the month November\n");a=30;break;}
           case 12:{printf("The calendar of the month December\n");a=31;break;}
		}

	    printf("=============================================\n");
	    printf("   Sun   Mon   Tue   Wed   Thu   Fri   Sat\n");

	    for(i=0;i<7;i++)
		{
	    	if(i<days)
		       	printf("      ");
	     	else
			{
		        printf("   %-3d",b);
		    	b++;
			}
		}

	    printf("\n");
   	    for(j=b;j<a;j+=7)
		{
		    for(i=1;i<=7&&b<=a;i++,b++)
			    printf("   %-3d",b);
		        printf("\n");
		}
	    printf("=============================================\n");
	    printf("\n\n");
	} while(year>1950);
}


void SearchDate()
{
	int days=0,cnt=0,year,month,day;
	int i=0,j=0,flag=0,a=0,b=0,m=0;
	printf("ÇëÊäÈë1950ÄêºóµÄÄ³ÄêÄ³ÔÂÄ³ÈÕ\n");
    printf("ÊäÈë0 0 0ÍË³ö\n");
	printf("\n");

	do
	{
        days=0,cnt=0;
	    i=0,j=0,flag=0,a=0,b=0,m=0;
	    scanf("%d%d%d",&year,&month,&day);
		if(year==0||month==0||day==0) break;
	    if(year%4==0&&year%100!=0||year%400==0)  flag=1;

        switch(month-1)
		{
	       case 11:days+=30;
	       case 10:days+=31;
 	       case 9:days+=30;
	       case 8:days+=31;
	       case 7:days+=31;
	       case 6:days+=30;
	       case 5:days+=31;
	       case 4:days+=30;
  	       case 3:days+=31;
	       case 2:days=flag==1?days+29:days+28;
	       case 1:days+=31;
		   case 0:days+=0;
		}
       	for(i=1950;i<year;i++)
		{
	    	if(i%4==0&&i%100!=0||i%400==0) cnt+=1;
		}
	    m=(year-1950)*365+cnt;
	    a=m%7;
    	b=(a+day)%7==0?(a+day)/7:(a+day)/7+1;
        m=(a+day)%7;
    	printf("%dÄê%dÔÂ%dÈÕ%dÄê%dÐÇÆÚ ",year,month,day,year,b);

     	switch(m)
		{
	        case 0:printf("ÐÇÆÚÁù\n");break;
        	case 1:printf("ÐÇÆÚÈÕ\n");break;
            case 2:printf("ÐÇÆÚÒ»\n");break;
            case 3:printf("ÐÇÆÚ¶þ\n");break;
            case 4:printf("ÐÇÆÚÈý\n");break;
            case 5:printf("ÐÇÆÚËÄ\n");break;
            case 6:printf("ÐÇÆÚÎå\n");break;
		}
	} while(year>1950);
}


void Constellation()

{
	int t,month,day;
	printf("ÇëÊäÈëÔÂ·ÝºÍÈÕÆÚ\n");
	printf("ÊäÈë0 0½áÊø\n");
	printf("\n");

	do
	{
	   scanf("%d%d",&month,&day);
	   if (month==0||day==0) break;
	   t=month<7?21:23;
       if(day>=t)  month++;
	   switch(month)
	   {
	      case 2:printf("Ë®Æ¿\n");break;
          case 3:printf("Ë«Óã\n");break;
          case 4:printf("°×Ñò\n");break;
          case 5:printf("½ðÅ£\n");break;
          case 6:printf("Ë«×Ó\n");break;
          case 7:printf("¾ÞÐ·\n");break;
          case 8:printf("Ê¨×Ó\n");break;
          case 9:printf("ÊÒÅ®\n");break;
          case 10:printf("Ìì³Ó\n");break;
          case 11:printf("ÌìÐ«\n");break;
          case 12:printf("ÉäÊÖ\n");break;
	      default:printf("Ä¦ôÉ\n");
	   }
	} while(month<13&&month>0);
}


void Festival()

{
  int month;
  printf("ï¿½ï¿½ï¿½ï¿½È·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¯ï¿½ï¿½ï¿½Â·ï¿½\n");
  printf("ï¿½ï¿½ï¿½ï¿½0ï¿½Ë³ï¿½Ë¹ï¿½ï¿½ï¿½\n");
  printf("\n");

  do
  {
	scanf("%d",&month);
	if (month==0) break;
	switch (month)
	{
	case 1:printf("1-1:Ôªï¿½ï¿½\n");
		   printf("1-27:ï¿½ï¿½Ê´ï¿½ï¿½ï¿½É±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");break;

	case 2:printf("2-2:ï¿½ï¿½ï¿½Êªï¿½ï¿½ï¿½ï¿½\n");
		   printf("2-10:ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("2-14:ï¿½ï¿½ï¿½Ë½ï¿½\n");
		   printf("2-21:ï¿½ï¿½ï¿½ï¿½Ö³ï¿½ï¿½ï¿½ï¿½ï¿½å¶·ï¿½ï¿½ï¿½ï¿½\n");break;

	case 3:printf("3-3:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("3-8:ï¿½ï¿½Ê¸ï¿½Å®ï¿½ï¿½\n");
		   printf("3-12:Ö²ï¿½ï¿½ï¿½\n");
		   printf("3-14:ï¿½ï¿½Ê¾ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("3-15:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¨ï¿½ï¿½ï¿½ï¿½\n");
		   printf("3-21:ï¿½ï¿½ï¿½ï¿½\n     ï¿½ï¿½ï¿½É­ï¿½ï¿½ï¿½ï¿½\n     ï¿½ï¿½ï¿½Ë¯ï¿½ï¿½ï¿½ï¿½\n     ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n     ï¿½ï¿½ï¿½Ê«ï¿½ï¿½ï¿½ï¿½\n");
		   printf("3-22:ï¿½ï¿½ï¿½Ë®ï¿½ï¿½\n");break;

	case 4:printf("4-1:ï¿½ï¿½ï¿½Ë½ï¿½\n");
		   printf("4-7:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("4-22:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("4-26:ï¿½ï¿½ï¿½ÖªÊ¶ï¿½ï¿½È¨ï¿½ï¿½\n");
		   printf("4-29:ï¿½ï¿½Ñ§Õ½ï¿½Üºï¿½ï¿½ß¼ï¿½ï¿½ï¿½ï¿½ï¿½\n");break;

	case 5:printf("5-1:ï¿½ï¿½ï¿½ï¿½Í¶ï¿½ï¿½ï¿½\n");
		   printf("5-3:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("5-4:ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("5-9:Õ½Ê¤ï¿½Â¹ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ë¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("5-12:ï¿½ï¿½Ê»ï¿½Ê¿ï¿½ï¿½\n");
		   printf("5ï¿½ÂµÚ¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½:Ä¸ï¿½×½ï¿½\n");
		   printf("5-15:ï¿½ï¿½Ê¼ï¿½Í¥ï¿½ï¿½\n");
		   printf("5-19:ï¿½Ð¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("5-31:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");break;

	case 6:printf("6-1:ï¿½ï¿½Ê¶ï¿½Í¯ï¿½ï¿½\n");
		   printf("6-5:ï¿½ï¿½ç»·ï¿½ï¿½ï¿½ï¿½\n");
		   printf("6-6:ï¿½ï¿½ç°®ï¿½ï¿½ï¿½ï¿½\n");
		   printf("6-12:ï¿½ï¿½ï¿½ï¿½ï¿½Í¯ï¿½ï¿½ï¿½ï¿½\n");
		   printf("6-14:ï¿½ï¿½ï¿½ï¿½ï¿½Ñªï¿½ï¿½ï¿½ï¿½\n");
           printf("6ï¿½Âµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿?ï¿½ï¿½ï¿½×½ï¿½\n");
		   printf("6-22:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");     
		   printf("6-23:ï¿½ï¿½Ê°ï¿½ï¿½ï¿½Æ¥ï¿½ï¿½ï¿½ï¿½\n");
		   printf("6-26:ï¿½ï¿½Ê½ï¿½ï¿½ï¿½\n");break;

	case 7:printf("7-1:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("7-7:ï¿½ï¿½ï¿½ï¿½ï¿½Â±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("7-11:ï¿½Ð¹ï¿½ï¿½ï¿½\n");
		   printf("7-18:ï¿½ï¿½çº£ï¿½ï¿½ï¿½ï¿½\n     ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("7-20:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");break;
	
	case 8:printf("8-1:ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("8-12:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("8-15:ï¿½Õ±ï¿½Í¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("8-28:ï¿½ï¿½Ôªï¿½ï¿½\n");break;

	case 9:printf("9-10:ï¿½ï¿½Ê¦ï¿½ï¿½\n");
           printf("9-18:ï¿½ï¿½Ò»ï¿½Ë¼ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		   printf("9-20:ï¿½ï¿½ç°®ï¿½ï¿½ï¿½ï¿½\n");
		   printf("9-21:ï¿½ï¿½Êºï¿½Æ½ï¿½ï¿½\n");break;

    case 10:printf("10-1:ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		    printf("10-10:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
			printf("10-16:ï¿½ï¿½ï¿½ï¿½Ê³ï¿½ï¿½\n");
			printf("10-31:ï¿½ï¿½Ê¥ï¿½ï¿½\n");break;

	case 11:printf("11-8:ï¿½ï¿½ï¿½ß½ï¿½\n");
	    	printf("11-11:ï¿½ï¿½ï¿½ï¿½\n");
			printf("11ï¿½Âµï¿½ï¿½Ä¸ï¿½ï¿½ï¿½ï¿½ï¿½:ï¿½Ð¶ï¿½ï¿½\n");
		    printf("11-17:ï¿½ï¿½Ê´ï¿½Ñ§ï¿½ï¿½ï¿½ï¿½\n");break;

	case 12:printf("12-1:ï¿½ï¿½ç°¬ï¿½Ì²ï¿½ï¿½ï¿½\n");
		    printf("12-3:ï¿½ï¿½Ê²Ð¼ï¿½ï¿½ï¿½ï¿½ï¿½\n");
		    printf("12-10:ï¿½ï¿½È¨ï¿½ï¿½\n");
			printf("12-13:ï¿½Ï¾ï¿½ï¿½ï¿½ï¿½ï¿½É±ï¿½ï¿½ï¿½ï¿½Í¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
			printf("12-20:ï¿½ï¿½ï¿½Å»Ø¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\n");
			printf("12-24:Æ½ï¿½ï¿½Ò¹\n");
			printf("12-25:Ê¥ï¿½ï¿½ï¿½ï¿½\n");break;
	}
	printf("\n\n");
  }while(month>0&&month<13);
}


void ChineseEra()
{
  int a=0,b=0,year;
  printf("ÇëÊäÈë1925ÒÔºóÄê·Ý\n");
  printf("ÊäÈë-1Ê±½áÊø\n");
  printf("\n");
  do
  { if (year==-1) break;
	scanf("%d",&year);
	a=(year-1923)%10;
	b=(year-1923)%12;
	printf("%dï¿½ï¿½ï¿½ï¿½",year);
	switch(a)
	{
	  case 0:printf("¼×");break;	  
	  case 1:printf("ÒÒ");break;
	  case 2:printf("±û");break;
      case 3:printf("¶¡");break;
	  case 4:printf("Îì");break;
	  case 5:printf("¼º");break;
	  case 6:printf("¸ý");break;
	  case 7:printf("ÐÁ");break;
      case 8:printf("ÈÉ");break;
      case 9:printf("¹ï");break;
    }
	switch(b)
	{
		case 0:printf("º¥");break;
		case 1:printf("×Ó");break;
        case 2:printf("³ó");break;
        case 3:printf("Òú");break;
        case 4:printf("Ã®");break;
        case 5:printf("³½");break;
        case 6:printf("ËÈ");break;
        case 7:printf("Îç");break;
        case 8:printf("Î´");break;
        case 9:printf("Éê");break;
        case 10:printf("ÓÏ");break;
        case 11:printf("Ðç");break;
	}
	//printf("ï¿½ï¿½\n\n");
  } while(year>1924);
}


void YearOfBirth()
{
  int a=0,year=0;
  printf("ï¿½ï¿½ï¿½ï¿½È·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½1950ï¿½ï¿½ï¿½Ôºï¿½ï¿½ï¿½ï¿½ï¿½\n");
  printf("×¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½0Ê±ï¿½Ë³ï¿½Ë¹ï¿½ï¿½ï¿½\n");
  do
  {
	scanf("%d",&year);
	if (year==0) break;
	a=(year-1947)%12;
    printf("%dï¿½ï¿½ï¿½ï¿½",year);
	switch(a)
	{
	case 0:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 1:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 2:printf("Å£ï¿½ï¿½\n");break;
    case 3:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 4:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 5:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 6:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 7:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 8:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 9:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 10:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
    case 11:printf("ï¿½ï¿½ï¿½ï¿½\n");break;
	}
  }while (year>1949);
}


void LunnerYear()
{
  int b=0,c=0,d=0,year,month,day,m;
  int days=0,flag=0,cnt=0,i=0,k=0,j=0;
  int a[21][13]={
	30, 30, 30, 29, 30, 30, 29, 30, 29, 30, 30, 29, 0,
    30, 30, 29, 30,290, 30, 29, 29, 30, 29, 30, 29, 30,
	30, 30, 29, 30, 29, 30, 29, 29, 30, 29, 30, 29, 0,
	30, 30, 29, 30, 30, 29, 30, 29, 29, 30, 29, 30, 0,
	29, 30,290, 30, 30, 29, 30, 29, 30, 29, 30, 29, 30,
	29, 30, 29, 30, 29, 30, 30, 29, 30, 29, 30, 29, 0,
	30, 29, 30, 29, 30, 29, 30,290, 30, 30, 29, 30, 30,
	29, 29, 30, 29, 29, 30, 29, 30, 30, 30, 29, 30, 0,
	30, 29, 29, 30, 29, 29, 30, 29, 30, 30, 29, 30, 0,
	30, 30, 29, 29, 30,290, 29, 30, 29, 30, 29, 30, 30,
	30, 29, 30, 29, 30, 29, 29, 30, 29, 30, 29, 30, 0,
	30, 29, 30, 30, 29, 30, 29, 29, 30, 29, 30, 29, 0,
	30, 29, 30, 30,290, 30, 29, 30, 29, 30, 29, 30, 29,
	30, 29, 30, 29, 30, 30, 29, 30, 29, 30, 29, 30, 0,
	29, 30, 29, 30, 29, 30, 29, 30, 30,290, 30, 29, 30,
	29, 30, 29, 29, 30, 29, 30, 30, 30, 29, 30, 29, 0,
	30, 29, 30, 29, 29, 30, 29, 30, 30, 29, 30, 30, 0,
	29, 30, 29, 30, 29, 29,300, 29, 30, 29, 30, 30, 30,
	29, 30, 29, 30, 29, 29, 30, 29, 30, 29, 30, 30, 0,
	30, 29, 30, 29, 30, 29, 29, 30, 29, 29, 30, 30, 0,
	29, 30, 30, 30,290, 30, 29, 29, 30, 29, 30, 29, 30 };
 printf("ÇëÊäÈë1950ÒÔºóÄê·Ý\n");
 printf("Êä0 0 0½áÊø\n");

 do
 {
    b=0,c=0,m=0;
    days=0,flag=0,cnt=0,i=0,k=0,j=0;
	scanf("%d%d%d",&year,&month,&day);
	if (year==0||month==0||day==0) break;
	if ((year%4==0&&year%100!=0)||year%400==0)
		flag=1;
	switch(month-1)
	{
    case 11:days+=30;
	case 10:days+=31;
	case 9:days+=30;
	case 8:days+=31;
	case 7:days+=31;
	case 6:days+=30;
	case 5:days+=31;
	case 4:days+=30;
	case 3:days+=31;
	case 2:days=flag==1?days+29:days+28;
	case 1:days+=31;
	case 0:days+=0;
	}
	days=days+day;
	flag=0;
	for(i=2000;i<year;i++)
	{
		if (i%4==0&&i%100!=0||i%400==0)
			cnt+=1;
	}
	days=365*(year-2000)+cnt+days-36;
	for(k=0;k<20;k++)
	{
		for(i=0;i<13;i++)
		{
			m=a[k][i]>30?a[k][i]/10:a[k][i];
			days-=m;
			if (days<=0) flag=1;
			if (days<=0) break;
		}
		if (flag==1) break;
	}
	flag=0;
	if (a[k][i]>30)
	{
		b=2000+k;
		c=i;
		d=days+a[k][i]/10+1;
	}
	else {
		for (j=0;j<=i;j++)
		{
			if (a[k][j]-2>a[k][i]) flag=1;
			if (a[k][j]-2>a[k][i]) break;
			else b=2000+k,c=i+1,d=days+a[k][i]+1;
		}
	}
		if (flag==1)
		{
			b=2000+k;
			c=i;
			d=days+a[k][i];
		}
		printf("Å©Àú%dÄê    ",b);
		d=d+2;
        if(a[k][i]==29&&d==30)c++,d=1;
		if(d==31||d==32)c++;
		switch(c)
		{
		case 1:if (a[k][i]>30) printf("Ò»ÔÂ");
			else printf("¶þÔÂ");break;
        case 2:if (a[k][i]>30) printf("¶þÔÂ");
			else printf("ÈýÔÂ");break;
        case 3:if (a[k][i]>30) printf("ÈýÔÂ");
			else printf("ËÄÔÂ");break;
        case 4:if (a[k][i]>30) printf("ËÄÔÂ");
			else printf("ÎåÔÂ");break;
        case 5:if (a[k][i]>30) printf("ÎåÔÂ");
			else printf("ÁùÔÂ");break;
        case 6:if (a[k][i]>30) printf("ÁùÔÂ");
			else printf("ÆßÔÂ");break;
        case 7:if (a[k][i]>30) printf("ÆßÔÂ");
			else printf("°ËÔÂ");break;
        case 8:if (a[k][i]>30) printf("°ËÔÂ");
			else printf("¾ÅÔÂ");break;
        case 9:if (a[k][i]>30) printf("¾ÅÔÂ");
			else printf("Ê®ÔÂ");break;
        case 10:if (a[k][i]>30) printf("Ê®ÔÂ");
			else printf("Ê®Ò»ÔÂ");break;
        case 11:if (a[k][i]>30) printf("Ê®Ò»ÔÂ");
			else printf("Ê®¶þÔÂ");break;
		case 12:if(a[k][i]>30)printf("Ê®¶þÔÂ");
			else printf("Ò»ÔÂ");
		}
		switch(d)
		{
		case 1:printf("Ò»\n");break;
        case 2:printf("¶þ\n");break;
        case 3:printf("Èý\n");break;
        case 4:printf("ËÄ\n");break;
        case 5:printf("Îå\n");break;
        case 6:printf("Áù\n");break;
        case 7:printf("Æß\n");break;
        case 8:printf("°Ë\n");break;
        case 9:printf("¾Å\n");break;
        case 10:printf("Ê®\n");break;
        case 11:printf("Ê®Ò»\n");break;
        case 12:printf("Ê®¶þ\n");break;
        case 13:printf("Ê®Èý\n");break;
        case 14:printf("Ê®ËÄ\n");break;
        case 15:printf("Ê®Îå\n");break;
        case 16:printf("Ê®Áù\n");break;
        case 17:printf("Ê®Æß\n");break;
        case 18:printf("Ê®°Ë\n");break;
        case 19:printf("Ê®¾Å\n");break;
        case 20:printf("Ø¥Ê®\n");break;
        case 21:printf("Ø¥Ò»\n");break;
        case 22:printf("Ø¥¶þ\n");break;
        case 23:printf("Ø¥Èý\n");break;
        case 24:printf("Ø¥ËÄ\n");break;
        case 25:printf("Ø¥Îå\n");break;
        case 26:printf("Ø¥Áù\n");break;
        case 27:printf("Ø¥Æß\n");break;
        case 28:printf("Ø¥°Ë\n");break;
        case 29:printf("Ø¥¾Å\n");break;
        case 30:printf("ÈýÊ®\n");break;
		case 31:printf("Ò»\n");break;
		default :printf("¶þ\n");break;
		}
	} while(year>2000&&year<2021);
}

void SolarTerms()
{
  int num,year,day;
  printf ("                    Ñ¡Ôñ½ÚÆø\n");
  printf ("1: Á¢´º    2:ÓêË®     3:¾ªÕÝ     4:´º·Ö     5:ÇåÃ÷     6:¹ÈÓê\n");
  printf ("7: Á¢ÏÄ    8:Ð¡Âú     9:Ã¢ÖÖ    10:ÏÄÖÁ    11:Ð¡Êî    12:´óÊî\n");
  printf ("13:Á¢Çï   14:´¦Êî    15:°×Â¶    16:Çï·Ö   17:º®Â¶    18:Ëª½µ\n");
  printf ("19:Á¢¶¬   20:Ð¡Ñ©    21:´óÑ©    22:¶¬ÖÁ    23:Ð¡º®    24:´óº®\n");
  printf("\n\n");
  printf("ÊäÈëÄê·Ý\n");
  printf("ÊäÈëËùÑ¡½ÚÆø´úºÅ\n");
  printf("    ÊäÈë0 0 ½áÊøn");
  printf("\n");

  do 
 {
  scanf("%d %d",&year,&num);
  if (year==0||num==0) break;
  if (year<1901||year>2099||num<1||num>24) { 
	     printf("ÄãËùÑ¡ÔñµÄ½ÚÆøÈÕÆÚÎª£º\n");  break;
	 }

  else{
  
		switch (num)
  {
  case 1:{
	      day=year>=2000?(int)(year%100*0.2422+3.87)-(int)((year%100-1)/4):
		                 (int)(year%100*0.2422+4.6295)-(int)((year%100-1)/4);
		  printf("%dÄê Á¢´º: 2ÔÂ%dºÅ\n",year,day);
		 } break;

  case 2:{
	      day=year>=2000?(int)(year%100*0.2422+18.73)-(int)((year%100-1)/4):
		                 (int)(year%100*0.2422+18.6092)-(int)((year%100-1)/4);
		  printf("%dÄê ÓêË®: 2ÔÂ%dºÅ\n",year,day);
		 } break;
	 
  case 3:{
	      day=year>=2000?(int)(year%100*0.2422+5.63)-(int)(year%100/4):
		                 (int)(year%100*0.2422+5.6092)-(int)(year%100/4);
		  printf("%dÄê ¾ªÕÝ: 3ÔÂ%dºÅ\n",year,day);
		 } break;
	  	 
  case 4:{
	      day=year>=2000?(int)(year%100*0.2422+20.646)-(int)(year%100/4):
		                 (int)(year%100*0.2422+20.6092)-(int)(year%100/4);
		  printf("%dÄê ´º·Ö: 3ÔÂ%dºÅ\n",year,day);
		 } break;
  
	  	 
  case 5:{
	      day=year>=2000?(int)(year%100*0.2422+4.81)-(int)(year%100/4):
		                 (int)(year%100*0.2422+5.59 )-(int)(year%100/4);
		  printf("%dÄê ÇåÃ÷: 4ÔÂ%dºÅ\n",year,day);
		 } break;
	 
  case 6:{
	      day=year>=2000?(int)(year%100*0.2422+20.1)-(int)(year%100/4):
		                 (int)(year%100*0.2422+20.888)-(int)(year%100/4);
		  printf("%dÄê ¹ÈÓê: 4ÔÂ%dºÅ\n",year,day);
		 } break;
	  
  case 7:{
	      day=year>=2000?(int)(year%100*0.2422+5.52)-(int)(year%100/4):
		                 (int)(year%100*0.2422+6.318)-(int)(year%100/4);
		  printf("%dÄê Á¢ÏÄ: 5ÔÂ%dºÅ\n",year,day);
		 } break;
	 
  case 8:{
	      day=year>=2000?(int)(year%100*0.2422+21.04)-(int)(year%100/4):
		                 (int)(year%100*0.2422+21.86)-(int)(year%100/4);
		  printf("%dÄê Ð¡Âú: 5ÔÂ%dºÅ\n",year,day);
		 } break;
	  	 
  case 9:{
	      day=year>=2000?(int)(year%100*0.2422+5.678)-(int)(year%100/4):
		                 (int)(year%100*0.2422+6.5)-(int)(year%100/4);
		  printf("%dÄê Ã¢ÖÖ: 6ÔÂ%dºÅ\n",year,day);
		 } break;
	  	 
  case 10:{
	      day=year>=2000?(int)(year%100*0.2422+21.37)-(int)(year%100/4):
		                 (int)(year%100*0.2422+22.20)-(int)(year%100/4);
		  printf("%dÄê ÏÄÖÁ: 6ÔÂ%dºÅ\n",year,day);
		 } break;
	  
  case 11:{
	      day=year>=2000?(int)(year%100*0.2422+7.108)-(int)(year%100/4):
		                 (int)(year%100*0.2422+7.928)-(int)(year%100/4);
		  printf("%d Äê Ð¡Êî: 7ÔÂ%dºÅ\n",year,day);
		 } break;
	 
  case 12:{
	      day=year>=2000?(int)(year%100*0.2422+22.83)-(int)(year%100/4):
		                 (int)(year%100*0.2422+23.65)-(int)(year%100/4);
		  printf("%dÄê ´óÊî: 7ÔÂ%dºÅ\n",year,day);
		 } break;
	  	 
  case 13:{
	      day=year>=2000?(int)(year%100*0.2422+7.5)-(int)(year%100/4):
		                 (int)(year%100*0.2422+8.35)-(int)(year%100/4);
		  printf("%dÄê Á¢Çï: 8ÔÂ%dºÅ\n",year,day);
		 } break;
	  	 
  case 14:{
	      day=year>=2000?(int)(year%100*0.2422+23.13)-(int)(year%100/4):
		                 (int)(year%100*0.2422+23.95)-(int)(year%100/4);
		  printf("%dÄê ´¦Êî: 8ÔÂ%dºÅ\n",year,day);
		 } break;
 
  case 15:{
	      day=year>=2000?(int)(year%100*0.2422+7.646)-(int)((year-1)%100/4):
		                 (int)(year%100*0.2422+8.44)-(int)((year-1)%100/4);
		  printf("%dÄê °×Â¶: 9ÔÂ%dºÅ\n",year,day);
		 } break;

  case 16:{
	      day=year>=2000?(int)(year%100*0.2422+23.024)-(int)((year-1)%100/4):
		                 (int)(year%100*0.2422+23.822)-(int)((year-1)%100/4);
		  printf("%dÄê Çï·Ö: 9ÔÂ%dºÅ\n",year,day);
		 } break;
	 
  case 17:{
	      day=year>=2000?(int)(year%100*0.2422+8.318)-(int)(year%100/4):
		                 (int)(year%100*0.2422+9.098)-(int)(year%100/4);
		  printf("%dÄê º®Â¶: 10ÔÂ%dºÅ\n",year,day);
		 } break;
	  	 
  case 18:{
	      day=year>=2000?(int)(year%100*0.2422+23.438)-(int)(year%100/4):
		                 (int)(year%100*0.2422+24.218)-(int)(year%100/4);
		  printf("%dÄê Ëª½µ: 10ÔÂ%dºÅ\n",year,day);
		 } break;
  
	  	 
  case 19:{
	      day=year>=2000?(int)(year%100*0.2422+7.438)-(int)(year%100/4):
		                 (int)(year%100*0.2422+8.218)-(int)(year%100/4);
		  printf("%dÄê Á¢¶¬: 11ÔÂ%dºÅ\n",year,day);
		 } break;
	 
  case 20:{
	      day=year>=2000?(int)(year%100*0.2422+22.38)-(int)(year%100/4):
		                 (int)(year%100*0.2422+23.08)-(int)(year%100/4);
		  printf("%dÄê Ð¡Ñ©: 11ÔÂ%dºÅ\n",year,day);
		 } break;
	  
  case 21:{
	      day=year>=2000?(int)(year%100*0.2422+7.18)-(int)(year%100/4):
		                 (int)(year%100*0.2422+7.9)-(int)(year%100/4);
		  printf("%dÄê ´óÑ©: 12ÔÂ%dºÅ\n",year,day);
		 } break;
	 
  case 22:{
	      day=year>=2000?(int)(year%100*0.2422+21.94)-(int)(year%100/4):
		                 (int)(year%100*0.2422+22.60)-(int)(year%100/4);
		  printf("%dÄê ¶¬ÖÁ: 12ÔÂ%dºÅ\n",year,day);
		 } break;
	  	 
  case 23:{
	      day=year>=2000?(int)(year%100*0.2422+5.4055)-(int)(year%100/4):
		                 (int)(year%100*0.2422+6.11)-(int)(year%100/4);
		  printf("%dÄê Ð¡º®: 1ÔÂ%dºÅ\n",year,day);
		 } break;
	  	 
  case 24:{
	      day=year>=2000?(int)(year%100*0.2422+20.12)-(int)(year%100/4):
		                 (int)(year%100*0.2422+20.84)-(int)(year%100/4);
		  printf("%dÄê ´óº®: 1ÔÂ%dºÅ\n",year,day);
		 } break;
	  }
   printf("\n");
	 }
} while(year>1900&&year<2100);
}

void BeiWangLu()
{
  int n;
  printf("ÇëÑ¡ÔñÐ´±¸ÍüÂ¼ºÍ¶Á±¸ÍüÂ¼\n");
  printf("1 Ð´±¸ÍüÂ¼\n");
  printf("2 ¶Á±¸ÍüÂ¼\n");
  printf("Êä0½áÊø\n");
  do
  {
	n=0;
    scanf("%d",&n);
    if(n==1) XieBeiWangLu();
	else if(n==2) DuBeiWangLu();
	else break;
  }while(n==1||n==2);
}



void DuBeiWangLu()                    //ï¿½ï¿½Ñ¯ï¿½ï¿½ï¿½ï¿½Â¼ï¿½ï¿½
{
	FILE *fp;char A[100];
	fp=fopen("Beiwanglu","r");
	if(fp!=NULL){
		while(!feof(fp)){
			if(fgets(A,sizeof(A)-1,fp)==NULL)continue;
			if(A[0]=='1')break;
			printf("%s",A);
		}
		fclose(fp);
	}
}

void XieBeiWangLu()
{
	char A[100];FILE *fp;int n;
	fp=fopen("Beiwanglu","w");
	printf("ÇëÊäÈëÄÚÈÝ:\n");
	gets(A);
    n=strlen(A);
	A[n]='\n';
	A[n+1]='\0';
	fputs(A,fp);
	printf("Êä1½áÊø\n");
	if(fp!=NULL){
		do{
			gets(A);
            n=strlen(A);
			A[n]='\n';
			A[n+1]='\0';
			fputs(A,fp);
		}while(A[0]!='1');
		fclose(fp);
	}
}
